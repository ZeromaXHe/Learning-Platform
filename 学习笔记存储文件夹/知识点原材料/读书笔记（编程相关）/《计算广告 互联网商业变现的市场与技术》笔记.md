# 《计算广告 互联网商业变现的市场与技术》笔记

# 第一部分 计算广告关键技术
# 第一章 在线广告综述
## 1.1 大数据与广告的关系
![计算广告 图1-1 大数据问题的特性示意.png](https://cdn.nlark.com/yuque/0/2020/png/2766562/1603865625080-44db47da-e93e-4053-b6c6-cf4774ac005d.png#align=left&display=inline&height=288&margin=%5Bobject%20Object%5D&name=%E8%AE%A1%E7%AE%97%E5%B9%BF%E5%91%8A%20%E5%9B%BE1-1%20%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%97%AE%E9%A2%98%E7%9A%84%E7%89%B9%E6%80%A7%E7%A4%BA%E6%84%8F.png&originHeight=288&originWidth=431&size=26506&status=done&style=none&width=431)
（1）C类问题。数据采样能显著降低数据处理的复杂程度，同时解决问题的效果（即目标函数）没有太大的下降，那么显然应该这样做。由于可以通过很低的采样率解决问题，用传统的数据方案就可以解决，因此这类问题应该归为传统数据处理问题。一般的统计报表、报告等往往属于这类问题。
（2）A类问题。数据采样率的降低，解决问题的收益会快速下降，这类问题是典型的大数据问题。个性化推荐和**计算广告**需要用到每一个人的行为进行定制化推送，而无法只采样其中一部分人来处理，因此可以认为是典型的大数据问题。大数据问题由于无法利用传统的计算架构和数据仓库来处理，因此才会产生Hadoop等新的基础设施和NoSQL数据存储等技术。
（3）B类问题。数据达到一定规模以后，再增加数据量价值就不大了，一个典型的例子是文本主题模型。在解决这类问题时，往往是选取一个有较大规模但非全量的数据集来处理。针对这种中等规模问题上的复杂算法，也产生了像Spark这样更加灵活高效的计算框架。


## 1.2 广告的定义与目的


广告活动的两个主动参与方：出资人、媒体
需求方（广告主、代理商、采买方）和供给方（媒体、其他变现平台）


被动参与方：受众


品牌广告：目的是借助媒体的力量来快速接触大量用户，以达到宣传品牌形象、提升中长期购买率与利润空间的目的。
直接效果广告（效果广告）：希望能利用广告手段马上带来大量的购买或其他转化行为


投入产出比（Return On Investment, ROI）:某次广告活动的总产出与总投入的比例。


## 1.3 在线广告创意类型


（1）横幅广告（Banner ad）。最传统最经典的形式。一般是嵌入在页面中相对固定位置的图片，需要占据固定的版面，因此，这种广告一般要有底层的备选广告素材，以防没有合适的广告匹配时页面上开天窗。
（2）文字链广告（textual ad）
（3）富媒体广告（rich media ad）
（4）视频广告（video ad）
（5）社交广告（social ad）
（6）移动广告（mobile ad）
（7）邮件定向营销广告（E-mail Direct Marketing，EDM）


## 1.4 在线广告简史


展示广告（display advertising），也叫显示广告。这一阶段的展示广告售卖模式称为合约广告（agreement-based advertising），即采用合同约定的方式确定一个广告位在某一时间段为某特定广告主所独占，并且根据双方的要求，确定广告创意和投放策略。


定向广告（targeted advertising）。这样的广告系统已经对计算技术产生了两个具体需求：一是受众导向（audience targeting）,即通过技术手段标记某个用户的性别、年龄或其他标签；二是广告投放（ad serving），即将广告投送由直接嵌入页面变为实时响应前端请求，并根据用户标签自动决策和返回合适的广告创意。
由于从传统的品牌广告延伸而来，此时的定向广告仍然以合约的方式进行。媒体向广告主保证某个投放量，并在此基础上确定合同的总金额以及投放量未完成情况下的赔偿方案。这种担保式投送（Guaranteed Delivery, GD）的交易方式逐渐成为互联网合约式广告的主要商业模式。一般来说，这样的合约仍然主要面向品牌广告主，并且遵循按千次展示付费（Cost per Mille, CPM）的计费方式。


合约广告系统中有一个重要的计算问题，即在满足各合约目标受众量要求的同时尽可能为所有广告商分配到质更好的流量。
这一问题有两个难点：

1. 是如何有效地将流量分配到各个合约互相覆盖的人群覆盖上；
1. 是要在在线的环境下实时地完成每一次展示决策。

这个问题称为**在线分配**（online allocation）。如果将各合约的量看做约束条件，将某种度量下的质看作目标函数，可以利用带**约束优化**（constrained optimization）的数学框架来探索这一问题。为了得到在线环境下切实可行的解决方案，学术界和工业界的同仁在理论和工程方面进行了大量的研究，有一些高效且简便的实用方案已经为各媒体广泛采用。


需要注意，展示广告领域定向投放的最初动机是供给方为了拆分流量以获得更高的营收。如果一开始就提供非常精细的定向，反而会造成售卖率的下降。
因此，受众定向产生以后，市场向着精细化运作的方向快速发展。这一发展主要有两方面的趋势：

1. 是定向标签变得越来越精准；
1. 是广告主的数量不断膨胀。

在这些趋势下，仍然按照合约的方式售卖广告会遇到越来越多的麻烦。

- 首先，很难对这些细粒度标签组合的流量做准确预估；
- 其次，当一次展示同时满足多个合约的时候，仅仅按照量约束下的在线分配策略进行决策有可能浪费掉了很多本来可以卖得更贵的流量。



既然量的约束带来了这些麻烦，有没有可能抛弃量的保证而采用最唯利是图的策略来进行广告决策？这样的思路催生了计算广告历史上革命性的产品模式——**竞价广告**（auction-based advertising）。
在这种模式下，供给方只向广告主保证质即单位流量的成本，但不再以合约的方式给出量的保证，换言之，对每一次展示都基本按照收益最高的原则来决策。


从宏观市场上看，竞价广告与合约广告有很大的不同。没有了合约的保证，大量的广告主处在一个多方博弈的环境中。与直觉不同的是，在如何收取广告主费用这一点上，我们并非按照微观上最优的方案实施就可以达到整个市场最大的收益。关于定价机制的深入研究，产生了**广义第二高价**（Generalized Second Price，GSP）这一竞价重要的理论。


基于竞价机制和精准人群定向这两个核心功能，在线广告分化出了**广告网络**（ad Network，ADN）这种新的市场形态。它批量地运营媒体的广告位资源，按照人群或上下文标签售卖给需求方，并用竞价的方式决定流量分配。广告网络的结算以**按点击付费**（Cost per Click，CPC）的方式为主，这一点有数据和业务方面多层次的原因，在本书的后面会详细探讨。虽然我们不太能指这种方式的千次展示收益（Revenue per Mille，RPM）可以达到合约式品牌广告的水平，但它使得大量中小互联网媒体有了切实可行的变现手段：这些媒体有一定的流量，但还不值得建立自己的销售团队面向品牌广告商售卖，直接把自己的广告库存（inventory）托管给 ADN，借助 ADN 的销售和代理团队为自己的流量变现。


当 ADN 产生以后，代理公司当然也要对广告采买方式做出调整，因为此时的流量采买发生了几点显著变化：

- 一是更多地面向受众而非媒体或广告位进行采买，这当然是与受众定向的流行有直接关系；
- 二是需求方的代理需要采用技术的手段保证广告主量的要求，并在此基础上帮助广告主优化效果。

这又是一个与在线分配类似的带约束优化问题。但是实际上，这个问题有着本质的不同：由于只能在 ADN 定义好的定向标签组合上预先指定出价，而不能控制每一次展示的出价，因此，市场看起来像一个黑盒子，需求方只能靠选择合适的标签组合以及阶段性调整出价来间接控制效果。这种面向多个 ADN 或媒体按人群一站式采买广告并优化投入产出比的需求方产品，我们称为**交易终端**（Trading Desk，TD）


在 ADN 中，核心的竞价逻辑是封闭的，这不能满足需求方越来越明确的利益要求。试想下面两个例子：
（1）某电子商务网站需要通过一次广告投放来向它的忠实用户推广某产品；
（2）某银行希望通过自己的信用卡用户在网络上找到类似的潜在用户群，并通过广告争取这批潜在用户。
很显然，ADN 很难直接为这两个需求提供人群标签。定制化需求催生了一种开放的竞价逻辑，让需求方按自己的人群定义来挑选流量，这就是**实时竞价**（Real Time Bidding，RTB）。它是将拍卖的过程由广告主预先出价，变成每次展示时实时出价。只要把广告展示的上下文页面 URL 以及访客的用户标识等信息传给需求方，它就有充分的信息来完成定制化的人群选择和出价。于是，市场上产生了大量聚合各媒体的剩余流量并采用实时竞价方式为他们变现的产品形态——**广告交易平台**（ad Exchange，ADX） 。这个名称让我们很容易联想起股票交易所。事实上，如果我们把 ADN 的交易方式想象成场外交易市场（over-the-counter market），那么 ADX 与股票交易所确实有着类似的作用。


通过实时竞价的方式，按照定制化的人群标签购买广告，这样的产品就是**需求方平台**（Demand Side Platform，DSP）。由于实时竞价主要采用按展示次数计费的方式（本书后面部分会具体讨论其原因），DSP 需要尽可能准确地估计每一次展示带来的期望价值。在这一点上，DSP 比 TD 要方便多了，因为充分的环境信息使得深入的计算和估计成为可能。基于 DSP 的广告采买非常类似于股票市场上的程序交易，我们把这样的广告采买方式也叫
作**程序化交易**（programmatic trade）。除了 RTB 以外，还有其他几种程序购买的交易方式，如**优选**（preferred deals）以及**私有交易市场**（Private Market Place，PMP）等。可以预见，在线广告中程序化交易的作用和地位将会不断加强，这是由数字广告的本质特点以及广告主利益最大化的趋势所决定的。


总结一下，在在线广告发展的历史上，定向技术和交易形式的进化是一条主线。

- 从最初的固定位置合约交易发展到进行受众定向、按展示量结算的合约交易，
- 再到竞价交易方式，
- 并最终发展成开放的实时竞价交易市场。

这条主线的核心驱动力是让越来越多的数据源为广告决策提供支持，从而提升广告的效果。
除了这条交易形态的主线，互联网广告产品还有另外一条发展线路，即产品展现逻辑上的发展：

- 在展示广告的最初阶段，广告位作为与内容相对独立的单元来决策和运营，并且完全以优化收入为目标；
- 但同时，人们从搜索广告和社交网络信息流广告中得到了启发——将内容与广告对立起来未必是一个好的选择。

搜索广告和社交网络信息流广告这两种广告产品正是由于与内容的展现和触发逻辑有着高度的一致性，才使得它们的效果突出。沿着这样的思路，将内容与广告以某种方式统一决策或排序的广告产品——**原生广告**（Native AD）在近年来得到了工业界越来越多的关注。如何将原生的决策方式与前面介绍的广告市场已经非常成熟的规模化交易逻辑相结合是目前互联网广告产品发展的热点。 需要特别说明的是，原生广告的思路在移动设备这样屏幕尺寸受限的环境下将会成为一个非常有前景的发展方向
**
## 1.5 泛广告商业产品


（1）团购。
（2）游戏联运。
（3）固定位导航。
（4）返利购买。


## 1.6 延伸思考


# 第2章 计算广告基础


在大多数广告产品中，可以通过计算优化的主要是收入部分。而**千次展示期望收入**（expected Cost Per Mille，eCPM）正是计算广告中最为核心的量化指标之一。与广告的信息传达过程相关，eCPM 又可以分解为点击率和点击价值的乘积，这两个指标是各种广告产品在计算过程中经常碰到的，也是产品运营需要深入理解和重点关注的。


## 2.1 广告有效性原理


图 2-1 所示这一有效性模型把广告的信息接收过程分为选择（selection）、解释（interpretation）与态度（attitude）三个大阶段
或者进一步分解为曝光（exposure）、关注（attention）、理解（comprehension）、接受（acceptence）、保持（retention）与决策（decision） 6 个子阶段。
![计算广告 图2-1 广告效果产生过程示意.png](https://cdn.nlark.com/yuque/0/2020/png/2766562/1603869492015-1e9d8df9-7b52-4a94-9d27-748db44bb547.png#align=left&display=inline&height=110&margin=%5Bobject%20Object%5D&name=%E8%AE%A1%E7%AE%97%E5%B9%BF%E5%91%8A%20%E5%9B%BE2-1%20%E5%B9%BF%E5%91%8A%E6%95%88%E6%9E%9C%E4%BA%A7%E7%94%9F%E8%BF%87%E7%A8%8B%E7%A4%BA%E6%84%8F.png&originHeight=110&originWidth=561&size=15452&status=done&style=none&width=561)
（1）曝光（exposure）阶段。这一阶段指的是广告物理上展现出来的过程，此阶段的有效程度往往与广告位的物理属性有关，并没有太多可以通过技术优化的空间。

（2）关注（attention）阶段。这一阶段指的是受众从物理上接触到广告到意识上注意到它的过程。对广告而言，曝光并不一定意味着关注。
那么如何使得关注阶段的效率提高呢？有几个重要的原则。

- 首先，尽量不要打断用户的任务。这一点是上下文相关的广告投送的原理基础，也是当今讨论原生广告产品的出发点之一。当用户明确辨识出某个固定不变的广告位，并且不再认为它与自己当浏览网页的任务有关联
时，他会下意识地屏蔽其中的内容。
- 其次，明确传达向用户推送此广告的原因，这一点是受众定向广告创意优化的重要方向。
- 另外，内容符合用户的兴趣或需求，这是行为定向的原理基础。



（3）理解（comprehension）阶段。用户关注到了广告的内容也并不意味着他一定能够理解广告传达的信息。
理解阶段有哪些原则呢？

- 首先，广告内容要在用户能理解的具体兴趣范围内，这说明了真正精准的受众定向有多么必要。
- 其次，要注意设定与关注程度相匹配的理解门槛。例如，在电视广告中，可以用有一定情节的短故事来宣传品牌；在路牌广告中，创意制作原则是将若干主要市场诉求都表达出来；而对于互联网广告，由于用户的关注程度非常低，我们应该集中强调一个主要诉求以吸引用户的注意力。



（4）接受（acceptance）阶段。受众理解了广告传达的信息，并不一定表示他认可这些信息。
在定向广告越来越普遍的今天，如何让合适的广告出现在合适的媒体上，即广告安全（ad safety）的问题，正在引起大家越来越多的关注。


（5）保持（retention）阶段。对于不仅仅追求短期转化的广告商，当然希望广告传达的信息给用户留下长久的记忆，以影响他长时间的选择，因此品牌广告商在创意设计上花了大量的精力提高此阶段效果。


（6）决策（decision）阶段。成功广告的最终作用是带来用户的转化行为，虽然这一阶段已经离开了广告的业务范围，但好的广告还是能够为转化率的提高做好铺垫。


定性地说，越靠前的阶段，其效果的改善对点击率的贡献越大；而越靠后的阶段，其效果的改善对转化率的贡献越大。


## 2.2 互联网广告的技术特点


（1）技术和计算导向。
（2）效果的可衡量性。
（3）创意和投放方式的标准化。
（4）媒体概念的多样化。
（5）数据驱动的投放决策。


## 2.3 计算广告的核心问题


$$\max\limits_{a_i, ..., T}^{}\sum_{i=1}^T\{r(a_i,u_i,c_i)-q(a_i,u_i,c_i)\}$$


表达式中的 a、u、c 三个变量，分别代表广告、用户与环境，即广告活动的三个参与主体，显然，广告展示的收入或成本与这三个因素都有关系。实际上，对除了 DSP 以外的大多数广告产品来说，要么是自营或包断资源，要么按以收定支的方式与媒体分成，其成本也对应为常数或正比于收入，在这种情形下，成本部分可以从上面的优化公式中去掉。


### 2.3.1 广告收入的分解


当用户在媒体页面的广告位上看到广告以后，如果产生兴趣，首先产生的是点击行为，广告点击与广告展现的比率称为**点击率**（Click Through Rate，CTR）；
点击行为成功以后，将会打开广告主的**落地页**（landing page），落地页成功打开次数与点击次数的
比例称为到达率，这是在广告主网站上发生的；
如果用户从落地页开始，进一步完成下单等操作，则称为转化，转化次数与到达次数的比例称为**转化率**（Conversion Rate，CVR），这是在广告主网站上或线下发生的。


eCPM = r(a,u,c) = μ(a,u,c)·v(a,u,c)


在后文中，我们都沿用这样的符号表示：用µ表示点击率，用ν表示点击价值（click value），即单次点击为广告产品带来的收益。 其中前一部分描述的是发生在媒体上的行为，后一部分描述的是发生在广告主网站上的行为。而这两部分的乘积定量地表示了某次或若干次展示的期望 CPM 值，就是我们前面提到的 eCPM 。请大家特别关注 eCPM 这个指标，因为它是计算广告中最常被提及，也是最关键的定量评估收益的指标，本书的计算问题大都是围绕它展开的。在对多个检索候选进行排序时，是根据 eCPM 还是 CTR 排序也是区别广告产品和用户产品的重要策略特征。


eCPM 一般指的是估计的千次展示收益，它有两个很相近的概念：如果讨论的是千次展示收入，往往用 RPM；如果讨论的是千次展示成本，往往用 CPM。这三个术语有时在实用中的区别并不明显，请大家注意。


点击价值还可以进一步分解为到达率、转化率和客单价的乘积。由于这部分的深入解剖与行业密切相关，而且更多地属于站内运营而非广告的范畴，因此在本书中将只在 14.2.3 节进行简要的讨论。


### 2.3.2 结算方式与eCPM估计的关系


（1）CPM 结算，即按照千次展示结算。这种方式是供给方与需求方约定好千次展示的计费标准，至于这些展示是否能够带来相应的收益，由需求方来估计和控制其中的风险。
实际上，在大多数互联网品牌广告，特别是视频广告中，CPM 都是主流的结算方式。


（2）CPC 结算，即按点击结算。这种方式最早产生于搜索广告，并很快为大多数效果类广告产品所普遍采用。在这种方式结算方式下，点击率的估计是由交给供给方（或者中间市场）完成的。点击价值的估计则由需求方完成，并通过点击出价的方式向市场通知自己的估价。
以 CPC 方式结算，在效果类广告市场中具有接近垄断的地位


（3）CPS（cost per sale）/CPA（cost per action）/ROI 结算，即按照销售订单数、转化行为数或投入产出比来结算。这些都是按照转化付费的一些变种。这是一种比较极端的结算方式，即需求方只按照最后的转化收益来结算，从而在最大程度上规避了风险。在这种结算方式下，供给方或中间市场除了估计点击率还要对点击价值作出估计，这样才能合理地决定流量分配。
这里存在两个很明显的问题。

- 一是转化行为为用户在广告商站内的行为，并非供给方能够直接监测和控制，因此无法进行准确的估计和优化。只有那些转化流程和用户体验类似的广告商组成的广告平台按转化付费才比较可行，典型的例子就是淘宝客广告。
- 二是实际执行中，存在广告主故意扣单以降低转化率，从而低成本赚取大量品牌曝光的可能。

因此，我们认为这种方式主要适合于一些垂直广告网络（vertical ad network）。另外在 DSP 中，由于需要完全代表广告主利益出价和优化，因此也会出现一些跟广告主之间按照 CPS 计费的情形。总体而言，对于那些与广告主收益直接挂钩的需求方广告产品来说，CPS 在一定条件下是可行的；但是对于普通的中间市场广告产品来说，CPS 并不是一种趋势性的结算方式。而 CPA 广告在移动应用下载的场景下，由于转化流程统一在 Apple Store 或 Google Play 中，且存在较完善的第三方转化监测，因而市场较为成熟。


（4）CPT（cost per time）结算，这是针对大品牌广告主特定的广告活动，将某个广告位以独占式方式交给某广告主，并按独占的时间段收取费用的方式。严格来说，这是一种销售方式而非一种计费模式，因为价格是双方事先约定，无需计量。这种方式主要适用于一些强曝光属性，有一定定制性的广告位。
在一般的展示广告中，这种方式在欧美市场市场并不经常采用，但在中国的门户网站广告中，CPT 仍然是一种主流模式。
![计算广告 表2-1 在线广告结算方式比较.png](https://cdn.nlark.com/yuque/0/2020/png/2766562/1603871997261-00e3b005-985e-407e-802f-2a3e9571eb99.png#align=left&display=inline&height=234&margin=%5Bobject%20Object%5D&name=%E8%AE%A1%E7%AE%97%E5%B9%BF%E5%91%8A%20%E8%A1%A82-1%20%E5%9C%A8%E7%BA%BF%E5%B9%BF%E5%91%8A%E7%BB%93%E7%AE%97%E6%96%B9%E5%BC%8F%E6%AF%94%E8%BE%83.png&originHeight=234&originWidth=568&size=51186&status=done&style=none&width=568)
## 2.4 在线广告相关行业协会


### 2.4.1 交互广告局


交互广告局（Interactive Advertising Bureau，IAB，[http://www.iab.net](http://www.iab.net)）


（1）横幅广告创意尺寸标准。
（2）视频广告标准 VAST（digital video ad serving template）。
（3）通用实时竞价接口标准 OpenRTB。


### 2.4.2 美国广告代理协会


美国广告代理协会（American Association of Advertising Agencies，4A）


### 2.4.3 美国国家广告商协会


美国国家广告商协会（Association of National Advertisers，ANA）是一个广告主的协
会，也是最彻底地代表需求方利益的组织。


# 第二部分 在线广告产品逻辑


# 第3章 在线广告产品概览


![计算广告 图3-1 在线广告产品进化示意.png](https://cdn.nlark.com/yuque/0/2020/png/2766562/1603872450685-70cf2e69-407c-45bf-846e-26da2ce11ca0.png#align=left&display=inline&height=234&margin=%5Bobject%20Object%5D&name=%E8%AE%A1%E7%AE%97%E5%B9%BF%E5%91%8A%20%E5%9B%BE3-1%20%E5%9C%A8%E7%BA%BF%E5%B9%BF%E5%91%8A%E4%BA%A7%E5%93%81%E8%BF%9B%E5%8C%96%E7%A4%BA%E6%84%8F.png&originHeight=234&originWidth=368&size=32310&status=done&style=none&width=368)
（1）**合约广告产品**：它由线下广告的交易形式衍生而来，又可以分为按照时段售卖的 CPT 广告和按照约定展示量售卖的 CPM 广告。这类广告产品主要服务于后续效果不宜直接衡量的品牌类广告主，在门户网站和视频网站较为常见。
（2）**竞价广告产品**：其最重要的形式是搜索广告，其产品形式为对搜索关键词的竞价。这种广告在拓展到站外展示广告流量时，演进成了对页面关键词或者用户标签竞价的产品形式，也就是 ADN。竞价广告的商业逻辑与合约广告完全不同，也是解决效果类广告需求的关键产品形式。
（3）**程序化交易广告产品**：竞价广告的进一步发展催生了实时竞价的交易形式。实时竞价使得需求方可以更灵活地划分和选择自己的目标受众，也使得更广泛的数据使用和交易迅速发展起来。以实时竞价为核心的一系列交易方式逐渐演变为机器之间以程序化的方式完成广告交易决策，因此，这类产品称为程序化交易广告产品。
（4）**原生广告产品**：广告的产品体系除了自身的演进，另一个重要课题是如何处理与非商业化内容的关系，让广告与内容尽可能以“原生”的方式共存。搜索广告和社交网络信息流广告对此作了非常有价值的探索，不过这样的原生广告在规模化和交易化方面也遇到了很多的问题。然而，随着近年来移动设备对于原生广告的强烈渴求，像标准 ADN 那样的原生广告平台正在快速发展中。


对于每一种广告的产品形态来说，都可能会有三个主要的组成部分：面向需求方的接口、面向供给方的接口、中间的投放系统及匹配策略

## 3.1 商业产品的设计原则


商业产品指的是面向商业客户而非一般用户的产品，其中最典型的代表就是互联网广告产品。其他的一些面向客户的互联网产品，如客户关系管理（Customer Relation Management，CRM）、网站分析（Web Analytics，WA）以及后面要提到的数据管理平台（Data Management Platform，DMP）等，也属于商业产品的范畴。商业产品的设计和运营有着一定的共性原则，我们有必要在这里提一下。


- （1）相对于产品功能，要特别关注产品中的策略部分。策略本身是商业产品非常关键的环节，以广告为例，竞价中的机制设计、冷启动时的数据探索、受众定向的标签体系都是产品策略需要考虑的内容。策略上看似简单的调整往往能带来广告系统收入上巨大的变化。与一般产品不同，这些策略的制定既需要对于广告市场深入的了解，又需要许多扎实的基础知识。对于刚开始进入广告产品领域的读者，将关注点集中在这些“看不见的产品特征”上是需要下大工夫体会和实践的。
- （2）要特别关注数据，让运营和产品优化形成闭环。由于商业产品的目标是确定和可优化的，所有产品特征和策略的成功与否要严格根据数据的反馈来判断。同时，新产品功能的规划也要在洞察历史数据和其他用户产品数据的基础上进行。从数据分析开始，以数据结束，这样的闭环式迭代是最适合商业产品的开发模式。
- （3）当然，在所有与使用者打交道的产品界面上，用户产品追求便捷性的设计原则依然非常重要。不过在商业产品中，实现功能以外过于新奇、炫酷的产品外观和交互模式是应当避免的。



## 3.2 需求方层级组织与接口


一般来说，需求方提供的广告是分层次管理的。在市场上大多数的产品中，广告的层次分为广告主、广告（推广）计划（campaign）、广告（推广）组（ad goup）、广告创意（creative）等几个层级
其中广告主层级管理一个广告主的通用信息，而其他三个层级则与具体的投放管理相关，我们来分别介绍一下。


（1）广告计划概念上对应于广告主的一次投放合同，其中包括了预算、时间范围等基本信息
（2）广告组对应于一个具体的广告投放策略，主要是设定受众定向条件和出价
（3）广告创意则是最终展示出来的素材，可能在同一个组策略下有不同尺寸的创意存在


## 3.3 供给方管理接口


# 第4章 合约广告


## 4.2 受众定向


在考察某种定向方法时，主要有两个方面的性能需要关注：

- 一是定向的效果，即符合该定向方式的流量上高出平均 eCPM 的水平；
- 二是定向的规模，即这部分流量占整体广告库存流量的比例。



### 4.2.1 受众定向方法概览


![计算广告 图4-2 常见受众定向方法一览.png](https://cdn.nlark.com/yuque/0/2020/png/2766562/1604045199825-aa099bfa-4b73-4ceb-b4fb-20713ebd7b71.png#align=left&display=inline&height=208&margin=%5Bobject%20Object%5D&name=%E8%AE%A1%E7%AE%97%E5%B9%BF%E5%91%8A%20%E5%9B%BE4-2%20%E5%B8%B8%E8%A7%81%E5%8F%97%E4%BC%97%E5%AE%9A%E5%90%91%E6%96%B9%E6%B3%95%E4%B8%80%E8%A7%88.png&originHeight=208&originWidth=537&size=23327&status=done&style=none&width=537)
（1）地域定向（geo-targeting）
（2）人口属性定向（demographical targeting） ：人口属性的主要标签包括年龄、性别、教育程度、收入水平等。
（3）频道定向（channel targeting） ：这种定向方式比较适用于那些离转化需求比较近的垂直类媒体，如汽车、母婴、购物导航等。 
（4）上下文定向（contextual targeting）
（5）行为定向（behaviorial targeting）
（6）精确位置定向（hyper-local targeting）
（7）重定向（retargeting） ：这是一种最简单的定制化标签，其原理是对某个广告主过去一段时间的访客投放广告以提升效果。
（8）新客推荐定向（look-alike targeting ）
（9）团购（group-purchase） ：这并不是一种定向广告技术，却与其有一定的关联，因此我们在这里一并说明。


## 4.3 展示量合约


实际上，互联网主流的品牌广告投放方式是按照 CPM 结算的展示量合约。展示量合约指的是约定某种受众条件下的展示量，然后按照事先约定好的单位展示量价格来结算。这种合约还有一个名称，就是担保式投送即 GD，其中的“担保”指的就是量的约定。


### 4.3.1 流量预测


流量预测在广告产品中包括以下三个主要用途。
（1）售前指导
（2）在线流量分配
（3）出价指导
综上所述，广告里一般的流量预测问题，可以描述成对流量 t（u，b）这个函数的估计，其中第一个参数 u 是给定的人群标签或人群标签的组合，第二个参数 b 是出价。在展示量合约中，由于没有竞价，可以看成是上述问题在 b→∞情形下的特例。


### 4.3.2 流量塑性


在有些情形下，我们可以主动地影响流量，以利于合约的达成。这一产品策略问题称为流量塑形（traffic shaping）。


流量塑形的典型场景是综合性门户网站上售卖的展示量合约广告。我们知道，门户网站各子频道的流量严重依赖于首页关键位置链接的导流。假如在车展期间，汽车频道上的展示广告需求旺盛，那么首页上的链接应该更多地给汽车频道导流以利于收入的增加。这样的想法相当直接，在实践中也被广泛使用。


### 4.3.3 在线分配


展示量合约这种保量合约都面临一个问题：各个合约要求的人群很可能大量交叠，如何设计分配策略，使得各个合约都尽可能被满足。为了描述这一策略问题，我们将其简化为一个二部图（bipartite graph）匹配的问题。


不过在实际情况中，我们不可能等到流量情况全部已知后再做决策，而是需要在每一次曝光时实时做出分配决策，因此，这一策略问题称为在线分配。在线分配需要根据历史数据和某种策略离线得到一个分配方案，线上则照此方案执行。


# 第5章 搜索与竞价广告


## 5.1 搜索广告


### 5.1.3 搜索广告产品策略


搜索广告的整个决策过程可以分为查询扩展、检索、排序、放置、定价等几个阶段。

- 查询扩展是搜索广告独有的策略，目的是给广告主自动地拓展相关的查询词，扩大采买流量；
- 广告检索和将候选广告根据 eCPM 排序是广告系统较为通用的核心流程（本章后面介绍广告网络时再讨论）；
- 而定价是竞价广告非常核心的策略（在下一节机制设计中将重点介绍）。



需要说明，在搜索广告中，排序的依据，即 eCPM，可以简单地表示成 r（a，c）=µ（a，c）·bidCPC（a）。不过在实际产品中，点击率 µ 这一项会被质量度（quality score）所替代，而后者除了考虑点击率，还需要综合诸如落地页质量等其他因素，得到更全面的对广告质量的评价，其目的是为了避免广告主的恶意行为、促进市场长期发展等。而在本书中，为了说明基本概念和算法，将主要考虑点击率的作用。


1. 查询拓展

查询扩展是搜索广告的一项关键策略。对广告主来说，从浩若烟海的关键词中找到符合自己需求的组合绝非易事。因此，搜索引擎会提供一些将广告中的关键词匹配到更多相关查询的服务，常见的几种匹配方式如下
（1）精确匹配
（2）短语匹配
（3）广泛匹配
（4）否定匹配


2. 广告放置

因此，要达到商业利益与用户体验较好的平衡，我们在关注收入指标时也要特别关注北区广告的数量和质量。往往在考察一项新算法对 RPM 的影响时，我们也应同时关注整个搜索引擎的北区广告平均条数（North Foot Print，NFP，或 Average Show Number，ASN），而在NFP 显著变化时，对应的 RPM 变化往往没有太大的参考价值。


## 5.2 位置拍卖与机制设计


假设有一组广告位可以被占用，将这些广告位按照其经验价值排名，分别记为 s=1，2，···，S（对横幅广告而言，这里的 S 一般为 1）。在某次广告请求中，有一组广告 a=1，2，···，A 出价参与拍卖，每个广告的出价记为 ba，系统将前 S 个高出价的广告依次放到前面排序好的 S 个广告位上，这样的问题称为**位置拍卖**（position auction）。


如何设计这样的位置拍卖问题中的一些重要机制往往对整个竞价市场的收益、稳定性、公平性等有着巨大的影响，这一类问题称为**机制设计**问题。在广告中常见的机制设计问题包括定价、市场保留价、价格挤压等。


### 5.2.1 定价问题


在 线 广 告 竞 价 市 场 最 常 见 的 定 价 策 略 是 GSP 方 案 ； 另 外 有 一 种 VCG（Vickrey-Clarke-Groves）定价策略，虽然理论上比 GSP 更合理，但是由于原理较复杂，向广告主解释起来有难度，因此在实际系统中采用的并不多。


1.广义第二高价（GSP）
先来看看什么叫第二高价（second price）[74]。所谓**第二高价**，指的是在只有一个位置的拍卖中，向赢得该位置的广告主收取其下一位广告主的出价，这样的拍卖也叫作 Vickrey拍卖。在搜索广告这种有多个位置的拍卖过程中，很容易直觉地将第二高价策略推广成下面的策略：对赢得每一个位置的广告主，都按照他下一位的广告位置出价来收取费用，这就是**广义第二高价 **


但是实际上，第二高价是单位置拍卖时的最优定价策略，然而广义第二高价却不是多位置拍卖时的最优定价策略
（最优策略是下面要介绍的 VCG 定价）。虽然并非理论上最优，广义第二高价却有着实现简单、容易向广告主解释等诸多操作中的优点，因此在实际的竞价广告系统中是最主流的定价策略。


2.VCG
VCG 定价是 Vickrey、Clarke 和 Groves 在研究竞价系统均衡状态时得到的一种理论上较为优越的定价策略。其基本思想是：对于赢得了某个位置的广告主，其所付出的成本应该等于他占据这个位置给其他市场参与者带来的价值损害。
$$q_s = \sum_{t>s}(\mu_{t-1}-\mu_t)\nu_$$


理论分析表明，VCG 定价策略的优越性体现在如下几个方面：

- 首先，在这种定价策略的稳定状态下，整个市场是 truth-telling 的。所谓 truth-telling，可以理解为每个广告主都找到了自己的最优状态。
- 其次，相对于其他的定价策略，这种定价向广告主收取的费用是最少的。

在单广告位拍卖的情形下，VCG 定价策略就退化为第二高价策略。


### 5.2.2 市场保留价


为了控制广告的质量和保持一定的出售单价，竞价广告市场往往要设置一个赢得拍卖位置的最低价格，这一价格我们称为**市场保留价**（Market Reserve Price，MRP），俗称“起价”或“底价”。


### 5.2.3 价格挤压


在 CPC 结算的广告产品中，eCPM 可以表示成点击率和出价的乘积，即 r=µ·ν=µ·bidCPC。
但是在竞价的机制设计中，有时会对此公式做一些微调，把它变成下面的形式：
$$r = \mu^\kappa\cdot bid_{CPC}$$
其中的κ为一个大于 0 的实数。可以考虑两种极端情况来理解κ的作用：当κ→∞时，相当于只根据点击率来排序而不考虑出价的作用；反之，当κ→0 时，则相当于只根据出价来排序。因此，随着κ的增大，相当于我们在挤压出价在整个竞价体系中的作用，因此我们把这个因子叫做**价格挤压**（squashing）因子。


## 5.3 广告网络


对展示广告而言，合约式的售卖方式必然无法消耗所有的库存，实际销售中为了控制售卖比例以获得更高的品牌溢价空间，未通过合约售卖的广告流量很多。这部分流量我们称为剩余流量（remnant inventory）。


### 5.3.1 广告网络产品形态


竞价广告网络有下面几个关键的产品特点。
（1）竞价方式不向广告主做量的约定，而是根据变现能力，即 eCPM，来决定每次展示分配给哪个广告主。
（2）由于是按人群售卖，广告网络会极力淡化媒体和广告位的概念。
（3）从商业角度来看，广告网络的销售模式与合约的方式相比也有两点优势：首先是无需再满足广告主品牌独占的要求，提高市场流动性成为可能 ；其次，由于广告网络根据实际消耗来结算，一般来说财务上采用广告主先充值的方式，这区别于合约广告投放结束后计算的方式，结果使得广告网络运营方的现金流状况大为改善。


广告网络存在 CPM、CPC 和 CPS 等不同的结算方式，不过最主流的方式是 CPC。


但是，对于一些有特殊业务需求或者特殊数据来源的媒体或媒体组合来说，有时候希望能够直接从广告网络的广告库中挑选广告，并能够创造比广告网络自动挑选更多的价值。因此，某些广告网络也会对一部分合作供给方开放广告库供其自行挑选，广告网络的这种运营模式可以称为联盟（affiliate）模式。


## 5.4 竞价广告需求方产品


### 5.4.1 搜索引擎营销


搜索广告对应的需求方产品，即通过竞价采买搜索引擎关键词来做推广，这就是搜索引擎营销，即 SEM。


### 5.4.2 媒体购买平台


面向展示广告网络的一站式采买平台称为媒介采买平台，与之类似的概念还有交易终端（Trading Desk，TD），可以认为是同一类的产品。


## 5.5 竞价广告与合约广告的比较


# 第6章 程序化交易广告


然而，随着需求方优化效果的要求进一步加强，广告网络在产品形态上已经无法完全满足需要，而市场的发展方向是向需求方彻底开放。具体而言，除了允许广告主按照已经定义好的用户划分来购买，还要进一步提供广告主自行选择流量和在每次展示上独立出价的功能。这样的功能，必然要求询价、出价和竞价在展示时进行，这也就产生了以实时竞价即 RTB 为核心的程序化交易市场。


RTB 的产生，使得广告市场向着透明的比价平台的方向发展，这样的平台就是**广告交易平台**，即 ADX，其主要特征即是用 RTB 的方式实时得到广告候选，并按照其出价简单完成投放决策。与广告交易平台对应的采买方，我们称为**需求方平台**即 DSP。在这样的交易市场中，需求方对于流量的选择和控制能力达到了极致，因此其技术和算法的挑战也相当大，而供给方则变成了简单的比较平台。


除了看得见的交易模式的改变以外，RTB 的产生和发展实际上还催生了另外一个更加重要的市场：数据加工和交易市场。开放的交易模式使得广告主可以自由地使用各种数据指导投放，而 RTB 过程又为附带的数据传送提供了天然的基础设施。因此，在程序化交易时代，数据加工和交易规模化地发展了起来。作为数据加工与交易的两个关键产品：数据交易平台（data exchange）和数据管理平台 DMP 分别从第三方数据和第一方数据入手，为市场提供了有价值的数据源或数据加工服务。


## 6.1 实时竞价


实时竞价流程
实时竞价的接口可以分成两个过程，即预先进行的将 ADX 与 DSP 的用户标识对应起来的 cookie 映射（cookie mapping）过程 和 线上广告请求时的竞价和投放过程


- （1）cookie 映射。

步骤 1.1：从广告主网站向 DSP 服务器发起 cookie 映射请求。
        步骤 1.2：DSP 与 ADX 服务器之间通信完成 cookie 映射。

- （2）广告请求（ad call）。以 Web 投放环境为例，RTB 的广告请求可以分为以下三个步骤。
步骤 2.1：用户浏览媒体网站。
步骤 2.2：媒体网站通过 JavaScript 或 SDK 向 ADX 发起广告请求。
步骤 2.3：ADX 向各 DSP 传送 URL 和本域名 cookie，发起询价请求。 DSP 根据预先做好的 cookie 映射查出对应的已方 cookie，决策是否参与竞价，如果参与，则返回自己的出价。在等待一个固定的时间片后，ADX 选出出价最高的 DSP 返回给媒体网站。
步骤 2.4：媒体网站从胜出的 DSP 拿到广告创意并展示。



其中步骤 2.2 和步骤 2.3 可以合并为一步，即 DSP 同时返回出价和广告创意地址，由 ADX 返回给媒体。这样做的好处是减少了一次服务器往返，用户看到的广告延迟也会减少。缺点是 ADX 可以获得 DSP 某个广告商的相关受众，因而存在信息泄露风险，不太符合 ADX 中立市场的地位。实际产品中，这两种方式都有采用。


实时竞价的交易方式虽然给予了广告主最大的流量选择空间，也对系统提出了更高的要求，并且带来了下面一些实际问题。

- （1）每次展示都有 ADX 服务器与多个 DSP 服务器的参与，这使得服务器与带宽成本大大增加。
- （2）在询价过程中，ADX 要等待一个约定好的时间片（一般情况下为 100 ms），这使得用户看到的广告延迟增加，对 CTR 有负面影响。
- （3）原理上 DSP 可以以极低的出价参与竞价，这样虽不能获得流量，却可以低成本得到在媒体网站上的用户行为数据，这里存在着潜在的信息泄露风险。



## 6.2 其他程序化交易方式


### 6.2.1 优选


优选比实时竞价产生要早，可以看成是只有一个需求方的程序化交易


优选方式允许单个需求方按照自己的意愿来挑选流量，但是又可以避免复杂的竞价过程。这个过程主要有以下五个步骤。
（1）用户浏览媒体网站。
（2）媒体网站通过 JavaScript 代码或 SDK 向供给方广告投放机发起广告请求；这里的供给方广告投放机有时是媒体自己的广告投放机，有时则是 ADX 的广告投放机。
（3）供给方广告投放机向需求方的广告投放机发起请求，询问是否需要此次广告展示机会。
（4）需求方广告投放机根据自己的逻辑判断，如果需要此次展示机会，则返回相应的广告创意。
（5）需求方如果不需要此次展示机会，则通知媒体广告投放机，由供给方广告投放机从自有广告库中选择合适的创意返回。


优选过程同样可以使得需求方自由地挑选流量，因此也是一种程序化交易方式。
由于只有一个需求方参与，媒体可以比较容易地对广告的质量和来源进行控制。这种交易一般按照 CPM 方式结算，由于没有了多方竞价，又有选择流量的便利，往往要约定一个比市场价格更高的 CPM 单价。
与 RTB 相比，优选的一个缺点是决策过程可能存在比较多的服务器往返：在极端情况下，需要三次服务器的往返才能得到最后的广告。这有可能使得用户看到的广告延迟增大，从而影响广告效果。


### 6.2.2 私有市场


除了实时竞价这种公开的市场拍卖机制以外，有时媒体为了保证广告主的质量，希望将拍卖限制在一些被邀请需求方的小范围内。这种程序化交易叫作私有市场。私有市场中的在线交易过程与公开的实时竞价一致，在此不再赘述。


### 6.2.3 广告交易方式谱系


按时间段和广告位独占式的售卖以及展示量合约的售卖是销售与客户之间将广告投放的关键要求约定下来的交易方式，在其中人的因素起了相当大的作用，不过这种售卖一般来说由于能满足一些品牌性需求，溢价能力也比较好，在高质量的媒体上属于优先考虑的售卖方式，我们把它们称为优先销售（premium sale）。


在竞价广告网络的市场形态下，对供给方而言，可以通过将广告位直接托管给 ADN 的方式变现，也可以同时使用给多个广告联盟，按照一些准则或计算结果灵活地对不同的流量分割选择不同的 ADN，这称为网络优化（network optimization）


## 6.3 广告交易平台


广告交易平台，即 ADX，是程序化交易时代的关键产品，它负责将媒体流量以拍卖的方式售卖给 DSP，可以类比于证券市场中的交易所。


ADX 的产品策略较为简单，由于所有的广告竞价都是实时进行，因此不需要保存广告库，因而也不需要广告检索流程，排序过程也非常简单。
广告交易平台中需要注意的产品策略，主要是如何解决给多个 DSP 发广告请求带来的带宽和机器成本的上升。这一问题，我们称为**询价优化**（call out optimization）。


ADX 一般为 CPM 结算方式 ，这一点要特别说明一下。
这里的逻辑在于，实时竞价中广告决策是由 DSP 完成的，而且对每次展示都可以得到广告位信息。因此，虽然各个广告位的点击率差别很大，DSP 还是可以自行精细估计点击率，并实时计算出当前展示的合理 eCPM。并且，由于第一方数据在程序化交易中的广泛使用，DSP 对于人群在特定广告上产生的效果往往能够估计得更加精细。因此，按照 CPM 结算，将 eCPM 整体的估计都交给需求方是比较合适的市场分工。


## 6.4 需求方平台


与 ADX 相对应，以 RTB 方式购买广告的产品形态就是需求方平台，即 DSP。
这一产品的核心特征有两个：

- 一个是 RTB 方式的流量购买，
- 另一个是需要支持需求方定制化的用户划分。

这两个核心特征其实是同一问题的两个方面：

- 为了能够按需求方定制化的用户划分采买广告，需要市场开放竞价接口；
- 而如果仅仅根据供给方定义的用户划分来采买，那么像广告网络那样的非实时竞价就够了。



### 6.4.1 需求方平台产品策略






# 第四部分 附录


## 附录A 主要术语及缩写索引



| 缩写 | 英文 | 中文 | 参考章节 |
| :---: | :---: | :---: | :---: |
| 4A | American Association of Advertising Agencies | 美国广告代理协会 | 2.4.2 |
| ADX | AD eXchange | 广告交易平台 | 6.3，14.1 |
|  | ad group | 广告组 | 3.2 |
| ADN | AD Network | 广告网络 | 5.3，13.3 |
|  | ad placement | 广告放置 | 5.1.3，13.2.2 |
|  | ad safety | 广告安全 | 15.3.3 |
|  | affiliate | 联盟 | 5.3，7.1.4 |
|  | agreement-based advertising | 合约广告 | 4，11 |
| AUC | Area Under Curve | 曲线下面积 | 13.5.5 |
|  | auction-based advertising | 竞价广告 | 5，13 |
|  | audience targeting | 受众定向 | 4.2，12 |
| ASN | Average Show Number |  | 5.1.3 |
| BoW | Bag of Words | 词袋 | 10.1.2 |
|  | banner ad | 横幅广告 | 1.3 |
|  | bayesian learning | 贝叶斯学习 | 10.3.3 |
| BT | Behaviorial Targeting | 行为定向 | 12.3 |
|  | bid term | 竞价关键词 | 5.1.1 |
|  | brand awareness | 品牌广告 | 1.2 |
|  | call out optimization | 询价优化 | 14.1.2 |
|  | campaign | 广告计划 | 3.2 |
| CoEC | Click on Expected Click |  | 13.5.4 |
| CoPC | Click on Predicted Click |  | 14.2.2 |
| CTR | Click Through Rate | 点击率 | 2.3.1 |
|  | click value | 点击价值 | 2.3.1 |
| CF | Collaborative Filtering | 协同过滤 | 13.2.1 |
|  | compact allocation plan | 紧凑分配方案 | 11.3.1 |
|  | constrained optimization | 带约束优化 | 10.2.1 |
|  | content as ad | 内容即广告 | 7 |
| CDN | Content Delivery Network | 内容分发网络 | 11.1 |
|  | contextual advertising | 上下文广告 | 1.4 |
|  | contextual targeting | 上下文定向 | 4.2.1，12.2 |
| CVR | Conversion Rate | 转化率 | 2.3.1 |
| CPA | Cost per Action | 按转化付费 | 2.3.2 |
| CPC | Cost per Click | 按点击付费 | 2.3.2 |
| CPM | Cost per Mille | 按千次展示付费 | 2.3.2 |
| CPS | Cost per Sale | 按销售额付费 | 2.3.2 |
| CPT | Cost per Time | 按时间付费 | 2.3.2 |
|  | creative | 广告创意 | 3.2 |
| CRM | Customer Relation Management | 客户关系管理 | 3.1 |
|  | customized audience segmentation | 定制化用户标签 | 6.1，14.2.1 |
|  | data exchange | 数据交易平台 | 6.6.4 |
| DMP | Data Management Platform | 数据管理平台 | 3.1，6.6.3，12.5 |
|  | demand | 需求方 | 1.2 |
|  | demand constant | 需求约束 | 11.3.1 |
| DSP | Demand Side Platform | 需求方平台 | 6.4，14.2 |
|  | demographical targeting | 人口属性定向 | 14.2.1，12.4 |
|  | direct response | 直接效果广告 | 1.2 |
|  | display advertising | 展示广告 | 1.4 |
|  | downhill simplex method | 下降单纯形法 | 10.2.2 |
|  | dynamic allocation | 动态分配 | 6.5 |
| EDM | E-mail Direct Marketing | 邮件定向营销广告 | 1.3 |
| EM | Expectation-Maximization | 最大期望 | 10.3.2 |
| EC | Expected Click | 期望点击 | 13.5.4 |
| eCPM | Expected Cost per Mille | 千次展示期望收入 | 2.3.1 |
|  | experimentation framework | 实验框架 | 15.2 |
| E&E | Explore and Exploit | 探索与利用 | 13.6 |
|  | frequency capping | 频次控制 | 11.2.2，13.5.6 |
| GaP | Gamma-Poisson | γ泊松 | 12.2.2 |
| GLM | Generalized Linear Model | 广义线性模型 | 12.3 |
| GSP | Generalized Second Price | 广义第二高价 | 5.2.1 |
|  | geo-targeting | 地域定向 | 4.2.1 |
|  | gradient descent | 梯度下降法 | 10.2.3 |
| GD | Guaranteed Delivery | 担保式投送 | 4.3，11.2 |
| HWM | High Water Mark | 高水位算法 | 11.3.4 |
|  | hyper-local targeting | 精确位置定向 | 4.2.1 |
| IDFA | Identifier for Advertising | 广告专用用户标识符 | 6.6.1 |
| IIS | Improved Iterative Scaling | 改进的迭代缩放 | 13.5.2 |
| IR | Information Retrieval | 信息检索 | 10.1 |
|  | integrated marketing | 整合营销 | 1.2 |
| IMEI | International Mobile Equipment Identity |  | 6.6.1 |
| IAB | Interactive Advertising Bureau | 交互广告局 | 2.4.1 |
|  | inventory | 库存 | 1.4 |
| IDF | Inverse Document Frequency | 倒数文档频率 | 10.1.2 |
|  | landing page | 落地页 | 2.3.1 |
| LDA | Latent Dirichlet Allocation | 潜在狄利克雷分配 | 12.2.2 |
| LSA | Latent Semantic Analysis | 潜在语义分析 | 12.2.2 |
| L-BFGS | Limited-memory BFGS | 有限内存BFGS | 13.5.2 |
| LR | Logistic Regression | 逻辑回归 | 13.5.1 |
|  | look-alike | 新客推荐 | 4.2.1，6.4.1，6.4.4，14.2.1 |
| ML | Machine Learning | 机器学习 | 10.3 |
| MRP | Market Reserve Price | 市场保留价 | 5.2.2 |
| MRA | Maximal Representative Allocation | 最大代表性分配 | 11.3.2 |
| MAP | Maximum a Posterior | 最大后验概率 | 10.3.3 |
| ME | Maximum Entropy | 最大熵 | 10.3.1 |
|  | mechanism design | 机制设计 | 5.2 |
|  | media buying platform | 媒介采买平台 | 1.4 |
| ML | Mixture Model | 混合模型 | 10.3.2 |
| MoG | Mixture of Gaussians | 高斯混合模型 | 10.3.2 |
|  | mobile ad | 移动广告 | 7.2 |
| MAB | Multi-Arm Bandit | 多臂老虎机 | 13.6 |
|  | native ad | 原生广告 | 7.1，7.3 |
|  | network optimization | 网络优化 | 6.5.1，14.3 |
| NFP | North Foot Print | 北区广告平均条数 | 5.1.3 |
|  | off-site recommendation | 站外推荐 | 6.4.3 |
|  | online allocation | 在线分配 | 4.3.3，11.3 |
| PII | Personal Identifiable Information | 个人可辨识信息 | 15.4 |
|  | personalized recommendation | 个性化推荐 | 13.2.1 |
|  | personalized retargeting | 个性化重定向 | 6.4.3 |
|  | position auction | 位置拍卖 | 5.2 |
| PR | Precision/Recall |  | 13.5.5 |
|  | preferred deals | 优选 | 6.2 |
|  | premium sales | 优先销售 | 6.2 |
|  | pricing | 定价 | 5.2.1 |
| PMP | Private Marketplace | 私有交易市场 | 6.2 |
| PLSI | Probabilistic Latent Semantic Indexing |  | 12.2.2 |
|  | programmatic trade | 程序化交易 | 6，14 |
|  | query | 查询 | 13.2 |
|  | reach | 到达率 | 2.3.1 |
| RTB | Real Time Bidding | 实时竞价 | 6.1 |
| ROC | Receive Operating Characteristic | 接收机操作特性 | 13.5.5 |
|  | remnant inventory | 剩余流量 | 5.3 |
|  | retargeting | 重定向 | 6.4.3 |
| ROI | Return on Investment | 投入产出比 | 1.2 |
| RPM | Revenue per Mille | 千次展示收益 | 1.4 |
|  | rich media ad | 富媒体广告 | 1.3 |
|  | search ad | 搜索广告 | 5.1 |
| SEM | Search engine marketing | 搜索引擎营销 | 5.4 |
|  | search retargeting | 搜索重定向 | 6.4.3 |
|  | second price | 第二高价 | 5.2.1 |
| SVD | Singular Value Decomposition | 奇异值分解 | 12.2.2 |
|  | site retargeting | 网络重定向 | 6.4.3 |
|  | social ad | 社交广告 | 1.3，7.1.1 |
|  | sponsored search | 付费搜索 | 5.1 |
| SGD | Stochastic Gradient Descent | 随机梯度下降 | 10.2.3 |
|  | stream computing | 流计算 | 9.1， 13.3 |
|  | sufficient statistics | 充分统计量 | 10.3.1 |
|  | supply | 供给方 | 1.2 |
|  | supply constraint | 供给约束 | 11.3.1 |
| SSP | Supply Side Platform | 供给方平台 | 6.5，14.3 |
|  | targeted advertising | 定向广告 | 1.4 |
| TD | Trading Desk | 交易终端 | 5.4.2 |
| TF | Term Frequency | 词频 | 10.1.3 |
|  | textual ad | 文字链广告 | 1.3 |
|  | topic model | 文本主题模型 | 12.2.2 |
|  | traffic forecasting | 流量预测 | 4.3.1 |
| TP | Traffic Protection | 流量保护 | 15.3 |
|  | traffic shaping | 流量塑性 | 4.3.2 |
| UCB | Upper Confidence Bound | 置信上界 | 13.6.1 |
| VSM | Vector Space Model | 向量空间模型 | 10.1.2 |
|  | vertical ad network | 垂直广告网络 | 5.3.3 |
| VCG | Vickrey-Clarke-Groves |  | 5.2.1 |
|  | video ad | 视频广告 | 1.3 |
| WA | Web Analytics | 网站分析 | 3.1 |



